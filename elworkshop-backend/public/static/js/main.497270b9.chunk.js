(this["webpackJsonpelworkshop-web"]=this["webpackJsonpelworkshop-web"]||[]).push([[0],{32:function(e,t,a){e.exports=a(64)},37:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),l=(a(37),a(2)),i=a(5),u=Object(n.createContext)(),o=function(e){var t=e.children,a=JSON.parse(localStorage.getItem("user"))||{},c=Object(n.useState)(a),s=Object(i.a)(c,2),l=s[0],o=s[1],m={user:l,setUser:o,resetUserContext:function(){o({})}};return r.a.createElement(u.Provider,{value:m},t)},m=a(12),d=a.n(m),k="https://elworkshop.herokuapp.com/api",f=a(1),p=a(4),b=a(7),h=a.n(b),g=function(e){var t=e.submit,a=e.action,c=e.phone_number,s=void 0===c?"":c,l=e.password,u=void 0===l?"":l,o=e.confirm_password,m=void 0===o?"":o,d=e.handleChange,k=e.spinnerState,b=e.form,g=Object(n.useState)(null),E=Object(i.a)(g,2),v=E[0],N=E[1],x=Object(n.useState)(null),w=Object(i.a)(x,2),j=w[0],O=w[1],_=Object(n.useState)(null),y=Object(i.a)(_,2),S=y[0],C=y[1],D=Object(n.useState)({isButtonDisabled:!0,errorMessage:null}),U=Object(i.a)(D,2),M=U[0],B=U[1],I=Object(n.useState)({minLength:!1,oneCap:!1,oneLow:!1,oneNumber:!1}),Y=Object(i.a)(I,2),P=Y[0],F=Y[1],A=h()(),L=h()().subtract(18,"years").format("YYYY-MM-DD");Object(n.useEffect)((function(){B("uk-form-success"===v&&"uk-form-success"===j&&"uk-form-success"===S&&"signup"===a||"uk-form-success"===v&&"login"===a?{isButtonDisabled:!1,errorMessage:null}:{isButtonDisabled:!0,errorMessage:null}),k&&B({isButtonDisabled:!1,errorMessage:null})}),[v,j,S,k]);var q=function(e){var t=e.target,n=t.name,r=t.value;switch(d(e),n){case"phone_number":!function(e){if(10!==e.length)return!1;return/^[0-9]*$/.test(e)}(r)?N("uk-form-danger"):N("uk-form-success");break;case"password":if("login"===a)return null;!function(e){var t=/^(?=.*[a-z])/,a=/^(?=.*[A-Z])/,n=/^(?=.*\d)/,r=/[A-Za-z\d@$!%*?&-_/]{8,}$/;return F((function(a){return Object(f.a)(Object(f.a)({},a),{},{oneLow:t.test(e)})})),F((function(t){return Object(f.a)(Object(f.a)({},t),{},{oneCap:a.test(e)})})),F((function(t){return Object(f.a)(Object(f.a)({},t),{},{oneNumber:n.test(e)})})),F((function(t){return Object(f.a)(Object(f.a)({},t),{},{minLength:r.test(e)})})),/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&-_/]{8,}$/.test(e)}(r)?O("uk-form-danger"):O("uk-form-success");break;case"confirm_password":C(r===u?"uk-form-success":"uk-form-danger")}};return r.a.createElement("div",{className:" uk-width-1-1 uk-margin-top uk-margin-remove-top@s"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("h2",null,"signup"===a?"Registro":"Inicia Sesi\xf3n"),"signup"===a?r.a.createElement("p",null,"\xbfYa tienes cuenta?",r.a.createElement(p.c,{to:"/login",className:"links uk-margin-small-left"},"Accede aqu\xed")):r.a.createElement("p",null,"\xbfNo tienes cuenta?",r.a.createElement(p.c,{to:"/registro",className:"links uk-margin-small-left"},"Reg\xedstrate aqu\xed"))),r.a.createElement("form",{className:"uk-form-stacked",onSubmit:t},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label"},"N\xfamero Telef\xf3nico:"),r.a.createElement("div",{className:"uk-inline uk-width-4-5 uk-width-1-3@s"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: receiver"}),r.a.createElement("input",{onChange:function(e){return q(e)},name:"phone_number",value:s,className:null!==v?"".concat(v," uk-input uk-width-1-1 uk-border-pill"):"uk-input uk-width-1-1 uk-border-pill",type:"number",required:!0})),"uk-form-danger"===v?r.a.createElement("div",null,r.a.createElement("span",{className:"uk-text-danger"},"Introduce un n\xfamero telef\xf3nico v\xe1lido")):null),"signup"===a?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label"},"Nombre(s):"),r.a.createElement("div",{className:"uk-inline uk-width-4-5 uk-width-1-3@s"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),r.a.createElement("input",{name:"first_name",className:"uk-input uk-width-1-1 uk-border-pill uk-text-center",type:"text",onChange:d,required:!0}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label"},"Apellidos:"),r.a.createElement("div",{className:"uk-inline uk-width-4-5 uk-width-1-3@s"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),r.a.createElement("input",{name:"last_name",className:"uk-input uk-width-1-1 uk-border-pill uk-text-center",type:"text",onChange:d,required:!0}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label"},"Fecha de nacimiento:"),r.a.createElement("div",{className:"uk-inline uk-width-4-5 uk-width-1-3@s"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),r.a.createElement("input",{name:"date_of_birth",defaultValue:L,className:"uk-input uk-width-1-1 uk-border-pill uk-text-center",type:"date",max:L,onChange:function(e){var t=e.target.value;A.diff(t,"years")<18?B((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!0,errorMessage:"Debes tener al menos 18 a\xf1os"})})):A.diff(t,"years")>99?B((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!0,errorMessage:"Introduce una fecha menor"})})):(B((function(e){return Object(f.a)(Object(f.a)({},e),{},{errorMessage:null})})),b.date_of_birth=t)},required:!0})),r.a.createElement("p",{className:"uk-text-center uk-text-danger"},M.errorMessage))):null,r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label"},"Contrase\xf1a:"),r.a.createElement("div",{className:"uk-inline uk-width-4-5 uk-width-1-3@s"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),r.a.createElement("input",{onChange:function(e){return q(e)},name:"password",value:u,className:"signup"===a&&null!==j?"".concat(j," uk-input uk-width-1-1 uk-border-pill"):"uk-input uk-width-1-1 uk-border-pill",type:"password",required:!0})),r.a.createElement("div",{className:"uk-margin uk-flex uk-flex-center"},"signup"===a?r.a.createElement("div",{className:"uk-width-1-2@s uk-flex uk-flex-column"},r.a.createElement("div",{className:"uk-width-1-1 uk-flex"},P.oneCap?r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-center@s uk-flex-middle uk-text-success"},r.a.createElement("span",{"uk-icon":"check",className:"uk-width-1-6"})," Una letra may\xfascula"):r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-center@s uk-flex-middle"},r.a.createElement("span",{"uk-icon":"warning",className:"uk-width-1-6"}),"  Una letra may\xfascula"),P.oneNumber?r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-middle uk-text-success"},r.a.createElement("span",{"uk-icon":"check",className:"uk-width-1-6"})," Un n\xfamero"):r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-middle"},r.a.createElement("span",{"uk-icon":"warning",className:"uk-width-1-6"}),"  Un n\xfamero")),r.a.createElement("div",{className:"uk-width-1-1 uk-flex"},P.oneLow?r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-center@s uk-flex-middle uk-text-success"},r.a.createElement("span",{"uk-icon":"check",className:"uk-width-1-6"})," Una letra min\xfascula"):r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-center@s uk-flex-middle"},r.a.createElement("span",{"uk-icon":"warning",className:"uk-width-1-6"}),"  Una letra min\xfascula"),P.minLength?r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-left uk-flex-middle uk-text-success"},r.a.createElement("span",{"uk-icon":"check",className:"uk-width-1-6"})," M\xednimo 8 caracteres"):r.a.createElement("div",{className:"uk-width-1-2 uk-flex uk-flex-left uk-flex-middle"},r.a.createElement("span",{"uk-icon":"warning",className:"uk-width-1-6"})," M\xednimo 8 caracteres"))):r.a.createElement(p.c,{to:"/recuperar",className:"links"},"\xbfOlvidaste tu contrase\xf1a?"))),"signup"===a?r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label"},"Confirma tu contrase\xf1a:"),r.a.createElement("div",{className:"uk-inline uk-width-4-5 uk-width-1-3@s"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),r.a.createElement("input",{onChange:function(e){return q(e)},name:"confirm_password",value:m,className:null!==j?"".concat(S," uk-input uk-width-1-1 uk-border-pill"):"uk-input uk-width-1-1 uk-border-pill",type:"password"})),"uk-form-danger"===S?r.a.createElement("div",null,r.a.createElement("span",{className:"uk-text-danger"},"Aseg\xfarate de introducir la misma contrase\xf1a")):null):null,r.a.createElement("button",{disabled:M.isButtonDisabled,className:"uk-button uk-button-primary uk-border-pill uk-width-3-5 uk-width-1-5@s uk-margin",type:"submit"},"signup"===a?k?"Registrando":"Registrar":"Entrar"," ",r.a.createElement("div",{className:k?"uk-visible":"uk-hidden","uk-spinner":"true"}))))},E=a(14);a(61);h.a.locale("es");var v=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1];return{form:a,setForm:r,resetForm:function(){return r({})},handleInput:function(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(E.a)({},a,n))}))},handleFileInput:function(e){var t=e.target,a=t.name,n=t.files;r((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(E.a)({},a,n))}))},handleSearchbarInput:function(e,t){r((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(E.a)({},e,t))}))}}},N=a(3),x=a.n(N),w=function(){var e=v(),t=e.form,a=e.handleInput,c=Object(n.useContext)(u),s=c.user,i=c.setUser,o=Object(l.f)().push;Object(n.useEffect)((function(){if(s._id)return o("/home")}));return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement(g,Object.assign({submit:function(e){var a;e.preventDefault(),(a=t,d.a.post("".concat(k,"/login"),a)).then((function(e){var t=e.data,a=t.user,n=t.token;localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",n),i(a),o("/home")})).catch((function(e){var t=e.response.data.msg;x.a.notification({message:'<p class="uk-text-center">'.concat(t,"</p>"),pos:"bottom-center",status:"danger"})}))},action:"login",handleChange:a},t))))},j=function(){var e=v(),t=e.form,a=e.handleInput,c=Object(n.useContext)(u),s=c.user,o=c.setUser,m=Object(l.f)().push,f=Object(n.useState)(!1),p=Object(i.a)(f,2),b=p[0],E=p[1],N=h()().subtract(18,"years").format("YYYY-MM-DD");Object(n.useEffect)((function(){if(s._id)return m("/home")}));return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement(g,Object.assign({submit:function(e){var a;e.preventDefault(),E(!0),t.date_of_birth||(t.date_of_birth=N),(a=t,d.a.post("".concat(k,"/signup"),a)).then((function(e){var t=e.data,a=t.user,n=t.token,r=t.msg;localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",n),E(!1),o(a),m("/home"),x.a.notification({message:"<p class=\"uk-text-center\"><span uk-icon='check'></span> ".concat(r,"</p>"),pos:"bottom-center",status:"success"})})).catch((function(e){console.log(e.response);var t=e.response.data.msg;E(!1),x.a.notification({message:'<p class="uk-text-center">'.concat(t,"</p>"),pos:"bottom-center",status:"danger"})}))},action:"signup",handleChange:a,validateEmail:function(e){return/\S+@\S+\.\S+/.test(e)}},t,{spinnerState:b,form:t}))))},O="https://elworkshop.herokuapp.com/api",_=function(){var e=Object(n.useContext)(u),t=e.user,a=e.resetUserContext,c=Object(l.f)().push,s=v(),o=s.form,m=s.resetForm,k=s.handleInput,p=Object(n.useState)({isButtonDisabled:!1,spinnerState:!1,errorMessage:null,job:null,buttonText:"Cargando"}),b=Object(i.a)(p,2),h=b[0],g=b[1];Object(n.useEffect)((function(){if(!t._id)return x.a.notification({message:"<span uk-icon='close'></span> Por favor inicia sesi\xf3n.",pos:"bottom-center",status:"warning"}),c("/login");(function(){var e=localStorage.getItem("token");return d.a.get("".concat(O,"/"),{headers:{Authorization:e}})})().then((function(e){var t=e.data.jobs;if(t.length>0){var a=t[0];g((function(e){return Object(f.a)(Object(f.a)({},e),{},{job:a,buttonText:"Guardar cambios"})}))}else g((function(e){return Object(f.a)(Object(f.a)({},e),{},{buttonText:"Crear Chamba"})}))})).catch((function(e){console.log(e)}))}),[t]);return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"uk-section"},r.a.createElement("h2",{className:"uk-margin-small-top"},"\xa1Bienvenido!"),r.a.createElement("div",{className:"uk-container uk-margin uk-flex uk-flex-center"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!0,spinnerState:!0})})),null===h.job?function(e){var t=localStorage.getItem("token");return d.a.post("".concat(O,"/"),e,{headers:{Authorization:t}})}(o).then((function(e){var t=e.data.job;x.a.notification({message:'<p class="uk-text-center">La chamba fue creada exitosamente</p>',pos:"bottom-center",status:"success"}),m(),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{job:t,isButtonDisabled:!1,spinnerState:!1,buttonText:"Guardar Cambios"})}))})).catch((function(e){var t=e.response.data.msg;"Sesi\xf3n expirada. Reinicia sesi\xf3n por favor."===t?(localStorage.clear(),a(),x.a.notification({message:'<p class="uk-text-center">'.concat(t,"</p>"),pos:"bottom-center",status:"warning"}),c("/login")):x.a.notification({message:'<p class="uk-text-center">'.concat(t,"</p>"),pos:"bottom-center",status:"warning"}),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!1,spinnerState:!1})}))})):function(e,t){var a=localStorage.getItem("token");return d.a.patch("".concat(O,"/").concat(e),t,{headers:{Authorization:a}})}(h.job._id,o).then((function(e){var t=e.data.job;x.a.notification({message:'<p class="uk-text-center">La chamba fue actualizada exitosamente</p>',pos:"bottom-center",status:"success"}),m(),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{job:t,isButtonDisabled:!1,spinnerState:!1,buttonText:"Guardar Cambios"})}))})).catch((function(e){var t=e.response.data.msg;"Sesi\xf3n expirada. Reinicia sesi\xf3n por favor."===t?(localStorage.clear(),a(),x.a.notification({message:'<p class="uk-text-center">'.concat(t,"</p>"),pos:"bottom-center",status:"warning"}),c("/login")):x.a.notification({message:'<p class="uk-text-center">'.concat(t,"</p>"),pos:"bottom-center",status:"warning"}),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!1,spinnerState:!1})}))}))},className:"uk-width-1-2@s"},r.a.createElement("fieldset",{className:"uk-fieldset"}),r.a.createElement("legend",{className:"uk-legend"},"Mi Chamba"),r.a.createElement("div",{className:"uk-margin uk-text-left"},r.a.createElement("label",{className:"uk-form-label uk-margin-small-left",htmlFor:"category-input"},"Nombre:"),r.a.createElement("input",{className:"uk-input uk-border-pill uk-text-center",id:"category-input",onChange:k,name:"category",type:"text",defaultValue:h.job?h.job.category:"",placeholder:"Describe tu chamba...",required:!0})),r.a.createElement("div",{className:"uk-margin uk-text-left"},r.a.createElement("label",{className:"uk-form-label uk-margin-small-left",htmlFor:"description-input"},"Descripci\xf3n:"),r.a.createElement("input",{className:"uk-input uk-border-pill uk-text-center",id:"description-input",onChange:k,name:"description",type:"text",defaultValue:h.job?h.job.description:"",placeholder:"Describe tu chamba...",required:!0})),r.a.createElement("div",{className:"uk-margin uk-text-left"},r.a.createElement("label",{className:"uk-form-label uk-margin-small-left",htmlFor:"hourly-rate-input"},"Precio por hora (mxn):"),r.a.createElement("input",{className:"uk-input uk-border-pill uk-text-center",id:"hourly-rate-input",onChange:k,name:"hourly_rate",type:"number",defaultValue:h.job?h.job.hourly_rate:"",placeholder:"Precio por hora...",required:!0})),r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-center uk-margin-medium"},r.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary uk-button uk-border-pill uk-width-2-3 uk-width-1-2@m uk-margin",disabled:h.isButtonDisabled},h.buttonText,"  ",r.a.createElement("div",{className:h.spinnerState?"uk-visible":"uk-hidden","uk-spinner":"true"})))))))},y=function(){Object(l.f)().push;var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){d.a.get("".concat(O,"/all")).then((function(e){var t=e.data.jobs;c(t)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"uk-section"},r.a.createElement("h1",null,"El Workshop"),r.a.createElement("h2",null,"\xa1Encuentra la persona perfecta para echarte la mano!"),r.a.createElement("div",{className:"uk-overflow-auto"},a.length<1?r.a.createElement("h4",{className:"uk-text-danger"},"No existen chambas ahorita :("):null,r.a.createElement("table",{className:"uk-table uk-table-striped uk-table-hover uk-table-middle"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-text-center"},"Trabajador"),r.a.createElement("th",{className:"uk-text-center"},"Tel\xe9fono"),r.a.createElement("th",{className:"uk-text-center"},"Chamba"),r.a.createElement("th",{className:"uk-text-center uk-visible@s"},"Descripci\xf3n"),r.a.createElement("th",{className:"uk-text-center"},"Precio"))),r.a.createElement("tbody",null,a?a.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"uk-text-center uk-flex uk-flex-center uk-flex-middle"},r.a.createElement("div",{className:"uk-width-1-3 uk-margin-small-right"},r.a.createElement("img",{className:"uk-border-circle",width:40,height:40,src:e.user.profile_picture,alt:"User profile"})),e.user.first_name," ",e.user.last_name),r.a.createElement("td",{className:"uk-text-center"},e.user.phone_number),r.a.createElement("td",{className:"uk-text-center uk-visible@s"},e.category),r.a.createElement("td",{className:"uk-text-center uk-visible@s uk-width-1-3@s"},e.description),r.a.createElement("td",{className:"uk-text-center uk-visible@s"},"$ ".concat(e.hourly_rate," c/hora")))})):r.a.createElement("tr",null,r.a.createElement("td",{className:"uk-text-center"},"Cargando"),r.a.createElement("td",{className:"uk-text-center uk-visible@s"},"Cargando"),r.a.createElement("td",{className:"uk-text-center uk-visible@s"},"Cargando"),r.a.createElement("td",{className:"uk-text-center uk-visible@s"},"Cargando"),r.a.createElement("td",{className:"uk-text-center"},"Cargando")))))))},S=function(e){var t=e.push,a=(e.url,v()),c=a.form,s=a.resetForm,l=a.handleInput,o=a.handleFileInput,m=Object(n.useState)({isUserEditing:!1,isButtonDisabled:!0,spinnerState:!1,errorMessage:null,showNewProfilePic:!1}),p=Object(i.a)(m,2),b=p[0],g=p[1],E=Object(n.useState)({file:"",imagePreviewUrl:""}),N=Object(i.a)(E,2),w=N[0],j=N[1],O=Object(n.useContext)(u),_=O.user,y=O.setUser,S=O.resetUserContext,C=h()(),D=h()().subtract(18,"years").format("YYYY-MM-DD");Object(n.useEffect)((function(){if(!_._id)return x.a.notification({message:"<p class='uk-text-center'>Por favor inicia sesi\xf3n</p>",pos:"bottom-center",status:"warning"}),t("/login")}),[_]);var U=function(e){e.preventDefault(),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{spinnerState:!0,isButtonDisabled:!0})}));var a=new FormData,n=c.profile_picture;for(var r in c)"profile_picture"===r?a.append(r,n[0]):a.append(r,c[r]);(function(e){var t=localStorage.getItem("token");return d.a.patch("".concat(k,"/profile"),e,{headers:{Authorization:t,"Content-Type":"multipart/form-data"}})})(a).then((function(e){var t=e.data.user;y(t),s(),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isUserEditing:!1,spinnerState:!1})})),x.a.notification({message:'<p class="uk-text-center">Tu perfil fue actualizado exitosamente</p>',pos:"bottom-center",status:"success"})})).catch((function(e){var a=e.response.data.msg;"Sesi\xf3n expirada. Reinicia sesi\xf3n por favor."===a?(localStorage.clear(),S(),x.a.notification({message:'<p class="uk-text-center">'.concat(a,"</p>"),pos:"bottom-center",status:"warning"}),t("/login")):x.a.notification({message:'<p class="uk-text-center">'.concat(a,"</p>"),pos:"bottom-center",status:"danger"}),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{spinnerState:!1,isButtonDisabled:!1})}))}))},M=function(e){e.preventDefault(),s(),document.getElementById("date_of_birth_input").value=h()(_.date_of_birth).format("YYYY-MM-DD"),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isUserEditing:!e.isUserEditing,errorMessage:null,isButtonDisabled:!1})}))};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"uk-width-1-1 uk-inline"},r.a.createElement("img",{className:"uk-border-circle",width:128,height:128,src:b.showNewProfilePic?w.imagePreviewUrl:_.profile_picture,alt:"User profile"}),r.a.createElement("div",{className:"js-upload uk-position-right-bottom uk-icon-button avatar","uk-icon":"pencil","uk-form-custom":"true",style:{display:"box!important"}},r.a.createElement("input",{onChange:function(e){e.preventDefault(),o(e);var t=new FileReader,a=e.target.files[0];a&&(t.onloadend=function(){j({file:a,imagePreviewUrl:t.result}),g((function(e){return Object(f.a)(Object(f.a)({},e),{},{showNewProfilePic:!0})}))},t.readAsDataURL(a))},name:"profile_picture",type:"file",accept:"image/*"}))),c.profile_picture?r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-center uk-margin-small"},r.a.createElement("div",{className:"uk-width-1-2 uk-width-1-6@s uk-flex uk-flex-around"},r.a.createElement("a",{className:"uk-icon-button uk-text-danger","uk-icon":"ban",onClick:function(){delete c.profile_picture,g((function(e){return Object(f.a)(Object(f.a)({},e),{},{showNewProfilePic:!1})}))}}),r.a.createElement("a",{className:"uk-icon-button uk-text-success","uk-icon":"check",onClick:U}))):null,r.a.createElement("h2",{className:"uk-margin-small-top"},_.first_name," ",_.last_name),r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-center uk-margin-small-top"},r.a.createElement("ul",{className:"uk-flex uk-flex-center uk-width-1-1 uk-margin-remove@s","uk-tab":"connect: #my-id"},r.a.createElement("li",{className:"uk-active"},r.a.createElement("a",{href:"#",onClick:b.isUserEditing?M:null},"Datos")))),r.a.createElement("div",{id:"my-id",className:"uk-switcher uk-flex uk-flex-center","uk-switcher":"true"},r.a.createElement("div",{className:"uk-card uk-card-hover uk-card-body uk-padding-small uk-padding@s uk-width-1-2@s"},r.a.createElement("h4",{className:"uk-margin-remove-bottom"},"Datos Personales"),r.a.createElement("a",{className:b.isUserEditing?"uk-text-danger uk-position-top-right uk-position-small":"eva-edit uk-position-top-right uk-position-small",href:"#",onClick:M},r.a.createElement("span",{"uk-icon":b.isUserEditing?"ban":"pencil"})),r.a.createElement("a",{className:b.isUserEditing?"uk-text-danger":"eva-edit",href:"#",onClick:M},b.isUserEditing?"Cancelar cambios":"Editar"),r.a.createElement("form",{onSubmit:U,className:"uk-form-stacked uk-text-left"},r.a.createElement("p",{className:"uk-margin-remove"},"Nombres:"),r.a.createElement("div",{className:"uk-form-controls uk-margin-small"},r.a.createElement("input",{className:"uk-input uk-border-pill uk-text-center",type:"text",name:"first_name",onChange:l,value:void 0!==c.first_name?c.first_name:_.first_name,disabled:!b.isUserEditing,required:!0})),r.a.createElement("p",{className:"uk-margin-remove"},"Apellidos:"),r.a.createElement("div",{className:"uk-form-controls uk-margin-small"},r.a.createElement("input",{className:"uk-input uk-border-pill uk-text-center",type:"text",name:"last_name",onChange:l,value:void 0!==c.last_name?c.last_name:_.last_name,disabled:!b.isUserEditing,required:!0})),r.a.createElement("p",{className:"uk-margin-remove"},"Tel\xe9fono:"),r.a.createElement("div",{className:"uk-form-controls uk-margin-small"},r.a.createElement("input",{className:"uk-input uk-border-pill uk-text-center border-white",type:"text",name:"phone_number",onChange:l,value:void 0!==c.phone_number?c.phone_number:_.phone_number,minLength:10,maxLength:10,disabled:!b.isUserEditing})),r.a.createElement("p",{className:"uk-margin-remove"},"Fecha de nacimiento:"),r.a.createElement("div",{className:"uk-form-controls uk-margin-small",hidden:b.isUserEditing},r.a.createElement("input",{className:"uk-input uk-border-pill uk-text-center",type:"text",id:"date_of_birth",value:h()(_.date_of_birth).format("LL"),disabled:!b.isUserEditing})),r.a.createElement("div",{className:"uk-form-controls uk-margin-small",hidden:!b.isUserEditing},r.a.createElement("input",{onChange:function(e){!function(e){var t=e.target.value;C.diff(t,"years")<18?g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!0,errorMessage:"Debes tener 18 a\xf1os"})})):C.diff(t,"years")>99?g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!0,errorMessage:"Introduce una fecha menor"})})):g((function(e){return Object(f.a)(Object(f.a)({},e),{},{isButtonDisabled:!1,errorMessage:null})}))}(e),l(e)},id:"date_of_birth_input",name:"date_of_birth",className:"uk-input uk-border-pill uk-text-center",type:"date",defaultValue:h()(_.date_of_birth).format("YYYY-MM-DD"),max:D,disabled:!b.isUserEditing,required:!0})),r.a.createElement("p",{className:"uk-text-center uk-text-danger"},b.errorMessage),r.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary uk-button uk-border-pill uk-width-2-3 uk-width-1-4@m uk-align-center uk-margin",hidden:!b.isUserEditing,disabled:b.isButtonDisabled},b.spinnerState?"Guardando":"Guardar cambios","  ",r.a.createElement("div",{className:b.spinnerState?"uk-visible":"uk-hidden","uk-spinner":"true"}))))))},C=function(){return r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(y,null)),r.a.createElement(l.a,{path:"/login"},r.a.createElement(w,null)),r.a.createElement(l.a,{path:"/registro"},r.a.createElement(j,null)),r.a.createElement(l.a,{path:"/home"},r.a.createElement(_,null)),r.a.createElement(l.a,{path:"/perfil"},r.a.createElement(S,null)))},D=(a(62),function(){var e=Object(n.useContext)(u),t=e.user,a=e.resetUserContext,c=Object(l.f)().push;return r.a.createElement("nav",{className:"uk-navbar uk-navbar-container uk-navbar-transparent uk-flex uk-flex-between uk-flex-middle uk-flex-wrap"},r.a.createElement("ul",{className:"uk-navbar-nav uk-height-1-1"},r.a.createElement("li",{className:"uk-active uk-flex uk-flex-middle uk-height-1-1 uk-margin-left"},r.a.createElement(p.c,{to:t._id?"/home":"/"},"El Workshop"))),t._id?r.a.createElement("ul",{className:"menu uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(p.c,{to:"/perfil"},r.a.createElement("div",{className:"uk-width-auto uk-margin-small-right"},r.a.createElement("img",{className:"uk-border-circle",width:40,height:40,src:t.profile_picture,alt:"User profile"})),r.a.createElement("p",{className:"uk-margin-remove"},"Mi Perfil"))),r.a.createElement("li",{className:"uk-active"},r.a.createElement(p.c,{to:"/login"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-border-pill",onClick:function(){localStorage.clear(),c("/login"),a()}},"Logout")))):r.a.createElement("ul",{className:"menu uk-navbar-nav"},r.a.createElement("li",{className:"uk-active uk-flex uk-flex-center uk-flex-middle"},r.a.createElement(p.b,{to:"/login",className:"uk-margin-remove uk-padding-remove"},r.a.createElement("button",{className:"uk-button uk-button-white uk-border-pill"},"Inicia Sesi\xf3n"))),r.a.createElement("li",{className:"uk-active uk-flex uk-flex-center uk-flex-middle"},r.a.createElement(p.b,{to:"/registro"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-border-pill"},"Reg\xedstrate")))))});var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement("main",null,r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(31),B=a.n(M);a(63);x.a.use(B.a);var I=function(){return r.a.createElement(o,null,r.a.createElement(p.a,null,r.a.createElement(U,null)))};s.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.497270b9.chunk.js.map